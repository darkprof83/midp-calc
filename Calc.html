<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>Calc - Scientific, Statistical & Financial Java Calculator</title>
<style>
<!--
  A.black:link {color: #000000}
  A.black:visited {color: #000000}
  A.black:hover {color: #000000}
  A.black:active {color: #000000}  
-->
</style>
</head>
<body>

<h1>Calc - Scientific, Statistical & Financial Java Calculator</h1>

<img src="Calc.jpg" align=right>

<b>Current version: 1.08</b><br>

Copyright: Roar Lauritzsen, email: <a
href="&#109;&#097;&#105;&#108;&#116;&#111;&#058;&#114;&#111;&#097;&#114;&#108;&#064;&#112;&#118;&#118;&#046;&#111;&#114;&#103;">&#114;&#111;&#097;&#114;&#108;&#064;&#112;&#118;&#118;&#046;&#111;&#114;&#103;</a><br>

Contribute: <font size=-1><i>If you find this program useful, you can
contribute to future work by submitting e.g. $10 to my
&#080;&#097;&#121;&#080;&#097;&#108; account <a class="black"
href="https://www.&#112;&#097;&#121;&#112;&#097;&#108;.com/xclick/business=&#114;&#111;&#097;&#114;&#108;%40&#112;&#118;&#118;&#046;&#111;&#114;&#103;&item_name=Calc+-+Java+Calculator">&#114;&#111;&#097;&#114;&#108;&#064;&#112;&#118;&#118;&#046;&#111;&#114;&#103;</a></i></font><br>

<br>
Calc is a Java calculator for MIDP devices, such as a Java-enabled
cell-phone or PDA. It was developed for Sony Ericsson T610, which is
my current phone but which has such a lousy built-in calculator that I
was forced to develop this application. (If you have an early version
of T610, consider upgrading the software, according to <a
href="http://www.sonyericsson.com/developer/site/global/newsandevents/latestnews/newsaug03/p_j2me_app_t610.jsp">this</a>.
It may make your Java applications run <i>much</i> faster, and fixes
bugs.)<br>

<br>
Calc works much like a good old HP calculator with RPN logic, but the
stack has 16 elements and you can see many of the elements on the stack
simultaneously. I have chosen to use RPN logic (Reverse Polish
Notation), because operating it requires less keys, you need only ENTER
instead of "(", ")" and "=". Additionally, being able to store and see
intermediate results on the stack is very advantageous.<br>

<br>
Using my <a href="Real.html">Real</a> Java floating point library,
Calc has 63 bits internal precision, which amounts to approximately 19
decimal digits accuracy, considerably <i>more</i> than normal
calculators and computers. The exponent is 31 bits, which allows for
numbers up to 4.197E+323228496. Handy when you want to calculate the
factorial of 40000000.<br>

<br>
You can download it into your phone or MIDP device using one of these
links: <a
href="http://gridbug.ods.org/calc.jad">http://gridbug.ods.org/calc.jad</a>,
or <a
href="http://gridbug.ods.org/calc.jar">http://gridbug.ods.org/calc.jar</a>

<h2>Phones</h2>

The following MIDP phones/devices have been tested with the application:

<ul>
  <li><b>Sony Ericsson T610</b>: Tested ok</li>  
  <li><b>Sony Ericsson Z600, T630, P800, P900</b>: Not tested. Probably works
  ok</li>
  <li><b>Nokia 3510i</b>: Tested ok. Awkward with the small screen and
  without joystick, but fully functional</li>
  <li><b>Nokia 6100</b>: Tested ok</li>
  <li><b>Nokia 7600</b>: Tested ok</li>
  <li><b>Nokia 3100, 3200, 3300, 3650, 3660, 5100, 5140, 6100, 6220,
  6230, 6600, 6610, 6650, 6800, 6810, 6820, 7200, 7210, 7250, 7250i,
  7650</b>: Not tested. Probably works ok</li>
  <li><b>Nokia 3410, 6310i, 7700, 8910i, 9210i, N-Gage</b>: Not
  tested. May work, but there can be issues with small screen,
  black/white screen or lack of joystick or input keys</li>
  <li><b>Siemens</b>: I have had complaints</li>
  <li><b>Motorola</b>: I have no idea</li>
</ul>

Plese notify me if you can use the application without problems on any
of the devices that have not been tested and also devices not on my list.

<h1>User manual</h1>

<h2>Keys</h2>

To be able to navigate efficiently through function menus, Calc is
best operated on a phone with a 5-way "joystick" or equivalent arrow
keys, plus a "clear" key, 12 number keys and two soft-keys (those
configurable keys below the display). The keys are mapped as follows:

<ul>
  <li><b>0-9</b>: The number keys are used to enter numbers and as shortcuts
when executing commands that take a number argument (STO, FIX,
etc). In hexadecimal mode, you can enter the digits a-f by holding down the
keys 1-6 until the digit changes.</li> 
  <li><b>*</b> : This key is used to enter the decimal point.</li>
  <li><b>#</b> : This key is used to enter a minus sign or an "E" for
  exponent. In HEX/OCT/BIN mode, the same key can be used to enter a
  "/". This sign is used to prefix a negative two's complement number
  and should be read as "an infinite number of 1-bits preceding the
  number". Pressing the # key again exchanges the "/" with a normal
  minus sign, indicating the input of a normal negative number
  which will be converted to two's complement on ENTER.</li>
  <li><b>ENTER</b>: This key finishes the currently entered number and puts
  it on the stack. If no number is being entered, the lowest element
  on the stack is duplicated.</li>
  <li><b>clear, 'c'</b>: This key deletes the last digit in an entered
  number, clears the lowest element on the stack, and backtracks
  through menus.</li> 
  <li><b>+</b> : This key adds the two lowest elements on the stack.</li>
  <li><b>Joystick/arrow keys</b>: Pressing the middle of the joystick
  activates the menu. Pressing up/down/right/left on the joystick
  activates the corresponding sub-menu directly. Sub-menus are entered
  by further navigation with the joystick until an actual operation is
  activated.</li>
</ul>

<h2>Setup</h2>

To be able to use Calc on devices with fewer keys than the T610 (most
Nokias, that is), a couple of setup dialogs will appear the first time
Calc is started. If you don't answer these dialogs correctly the first
time, I'm afraid the only option is to delete the application and
download it again (I may fix this in the future).<br>

<br>
First, to make sure that "ENTER" and "+" is immediately available,
Calc will rotate through a set of command-key mappings until you
answer "yes" to the question if you can see both "no" and "yes" mapped
to the left and right soft-keys simultaneously (These keys are located
left and right directly below the display). Most Nokias will at first
map "yes" and "no" to a menu named "Options" on the left side, with
nothing on the right side. If you select "yes" when such a mapping is
active, your "ENTER" and "+" key will be accessible in the same
cumbersome manner.<br>

<br>
Second, to make sure that a "clear" or "c" key is available (and
recognizable by the application), you will be asked to press it. If
you do not have a "clear" key, press "#" instead - this will be your
clear key, and "*" will be used to magically enter both minus sign,
decimal point and exponent marker.<br>

<br>
If your phone does not have a 5-way joystick, most times on Nokia you
can use the "dial" button instead of the middle joystick button. If
you only have a two-way joystick or none at all, the number keys 2, 4,
5, 6 and 8 will work as joystick keys once a menu is activated. In
that case, you can only hope that the menu will be activated by "dial"
or some other button, otherwise you will be stuck.

<h2>Operations</h2>

In the following operations, x represents the lowest element on the
stack, y represents the element above x. In operations with two inputs,
such as +,-,* and /, the x and y stack elements are removed from the
stack and the result is placed on the stack instead, as the new x. In
operations with one input, such as e<sup>x</sup>, x is removed from the
stack and the result is placed on the stack instead. To add 3 and 7,
for example, one would press the following sequence of keys: 3, ENTER,
7, +. The result, 10 will now be the lowest element on the stack, ready
for further calculations.<br>

<br>
The following operations are available through the menu system:

<h3>Basic</h3>

<ul>
  <li><b>-</b> : Subtract x from y</li>
  <li><b>*</b> : Multiply x and y</li>
  <li><b>/</b> : Divide y by x</li>
  <li><b>+/-</b> : Change sign of x</li>
  <li><b>%</b> : Calculate x percent of y. This operation leaves y standing,
  so you can add or subtract the result directly using + or -</li>
</ul>

<h3>Math</h3>

<ul>
  <li>Simple</li>
  <ul>
    <li><b>1/x</b>: Calculate the reciprocal of x</li>
    <li><b>x²</b>: Calculate the square of x</li>
    <li><b>&#8730;<span style="text-decoration: overline;">x</span></b>:
    Calculate the square root of x</li>
    <li><b>%chg</b>: Calculate percent change from y to x,
  i.e. 100·(x-y)/y</li>
  </ul>
  <li>Power</li>
  <ul>
    <li><b>e<sup>x</sup></b>: Calculate the natural exponential</li>
    <li><b>ln</b>: Calculate the natural logarithm</li>
    <li><b>y<sup>x</sup></b>: Calculate y to the power of x</li>
    <li><b><sup>x</sup>&#8730;<span style="text-decoration:
  overline;">y</span></b>: Calculate the x'th root of y. Works with
  negative values of y if x is an odd integer.</li>
  </ul>
  <li>Powers of 10 and 2</li>
  <ul>
    <li><b>10<sup>x</sup></b>: Calculates10 to the power of x</li>
    <li><b>log<sub>10</sub></b>: Calculate base-10 logarithm of x</li>
    <li><b>2<sup>x</sup></b>: Calculate 2 to the power of x</li>
    <li><b>log<sub>2</sub></b>: Calculate base-2 logarithm of x</li>
  </ul>
  <li>Combinatorial</li>
  <ul>
    <li><b>P y,x</b>: Calculate number of permutations (unordered subsets)
    when x elements is taken from a population of y</li>
    <li><b>C y,x</b>: Calculate number of combinations (ordered subsets)
    when x elements is taken from a population of y</li>
    <li><b>x!</b> : Calculate the factorial of x. For non-integer values,
    &#915;(x+1) is calculated</li>
    <li><b>random</b>: Calculate a random number uniformly distributed
    in the range [0.0, 1.0)</li>
    <li><b>factorize</b>: Find greatest prime factor (of integer input
  less than 2<sup>31</sup>). This factor and the original number
  divided by the factor is placed on the stack... repeat!</li>
  </ul>
  <li>Polar coordinates</li>
  <ul>
    <li><b>r&rarr;p</b>: Convert rectangular coordinates (x,y) to polar
(x=radius, y=angle)</li>
    <li><b>p&rarr;r</b>: Convert polar coordinates (x=radius, y=angle) to
rectangular (x,y)</li>
    <li><b>atan<sub>2</sub></b>: Calculate the arctangent of y/x, in the range -&#960;
to &#960; (or -180 to 180 in DEG mode)</li>
    <li><b>hypot</b>: Calculate &#8730;<span style="text-decoration: overline;">x²+y²</span></li>
  </ul>
  <li>Integer operations</li>
  <ul>
    <li><b>round</b>: Round x to nearest integer</li>
    <li><b>ceil</b>: Round x towards positive infinity</li>
    <li><b>floor</b>: Round x towards negative infinity</li>
    <li><b>trunc</b>: Remove fractional part of x (round towards zero)</li>
    <li><b>frac</b>: Remove integer part of x, i.e. calculate x-trunc(x)</li>
  </ul>
</ul>

<h3>Trigonometric</h3>

<ul>
  <li>Normal</li>
  <ul>
    <li><b>sin</b>: Calculate the sine of x</li>
    <li><b>cos</b>: Calculate the cosine of x</li>
    <li><b>tan</b>: Calculate the tangent of x</li>
  </ul>
  <li>Arc</li>
  <ul>
    <li><b>asin</b>: Calculate the arc sine of x</li>
    <li><b>acos</b>: Calculate the arc cosine of x</li>
    <li><b>atan</b>: Calculate the arc tangent of x</li>
  </ul>
  <li>Hyperbolic</li>
  <ul>
    <li><b>sinh</b>: Calculate the hyperbolic sine of x</li>
    <li><b>cosh</b>: Calculate the hyperbolic cosine of x</li>
    <li><b>tanh</b>: Calculate the hyperbolic tangent of x</li>
  </ul>
  <li>Arc hyperbolic</li>
  <ul>
    <li><b>asinh</b>: Calculate the arc hyperbolic sine of x</li>
    <li><b>acosh</b>: Calculate the arc hyperbolic cosine of x</li>
    <li><b>atanh</b>: Calculate the arc hyperbolic tangent of x</li>
  </ul>
  <li>More</li>
  <ul>
    <li><b>RAD/DEG</b>: Switche between radians and degrees as measure of angles</li>
    <li><b>&rarr;RAD</b>: Convert from degrees to radians</li>
    <li><b>&rarr;DEG</b>: Convert from radians to degrees</li>
    <li><b>&#960;</b>: Enters the number &#960;</li>
  </ul>
</ul>

<h3>Bitwise operations (available in HEX/OCT/BIN mode)</h3>

<ul>
  <li><b>and</b>: Calculate bitwise AND of x and y</li>
  <li><b>or</b>: Calculate bitwise OR of x and y</li>
  <li><b>xor</b>: Calculate bitwise XOR of x and y</li>
  <li><b>bic</b>: Bit-clear, clear all bits from y that is set in x,
  i.e. calculate y AND NOT x</li>
  <li><b>y&lt;&lt;x</b>: Shift up y by integer number of bits in x</li>
  <li><b>y&gt;&gt;x</b>: Shift down y by integer number of bits in x</li>
  <li><b>not</b>: Invert all bits in x. Fractional bits are ignored,
  i.e. the calculated value is x XOR -1</li>
</ul>

<h3>Special</h3>

<ul>
  <li>Stack</li>
  <ul>
    <li><b>LAST x</b>: Recall value of x before last operation</li>
    <li><b>undo</b>: Undo previous stack operation. Memory, statistical and
  financial operations, in addition to clear stack, cannot be
  undone. In operations involving both stack and one of the other
  modules, such as x&harr;mem, only the stack is restored</li>
    <li><b>x&harr;y</b>: Exchange x and y elements of the stack</li>
    <li><b>RCL st#</b>: Copy any stack location</li>
    <li><b>clear</b>: Clear the stack</li>
  </ul>
  <li>Memory</li>
  <ul>
    <li><b>STO</b>: Store x in memory location</li>
    <li><b>STO+</b>: Add x to memory location</li>
    <li><b>RCL</b>: Recall memory location</li>
    <li><b>x&harr;mem</b>: Exchange x with any memory location</li>
    <li><b>clear</b>: Clear memory</li>
  </ul>
  <li>Statistical</li>
  <ul>
    <li><b>&#931;+</b> : Add x and y to statistics</li>
    <li><b>&#931;-</b> : Subtract x and y from statistics</li>
    <li><b>clear</b>: Clear statistics</li>
    <li>Results</li>
    <ul>
      <li>average</li>
      <ul>
        <li><b><span style="text-decoration: overline;">x</span>,<span
        style="text-decoration: overline;">y</span></b>: Calculate mean x
        and mean y values, i.e. &#931;x/n</li>
        <li><b><span style="text-decoration: overline;">x</span>w</b>:
        Calculate mean of x values weighted by the y values,
        i.e. &#931;xy/&#931;y</li>
        <li><b>s<sub>x</sub>,s<sub>y</sub></b>: Calculate sample standard
        of x and y values, i.e. &#931;(x-<span
        style="text-decoration: overline;">x</span>)²/(n-1)</li>
        <li><b>S<sub>x</sub>,S<sub>y</sub></b>: Calculate population standard
        deviation of x and y values, i.e. &#931;(x-<span
        style="text-decoration: overline;">x</span>)²/n</li>
        <li><b>draw</b>: Draw data points and plot average</li>
      </ul>
      <li>Linear regression: y=ax+b</li>
      <ul>
        <li><b>a,b</b>: Calculate coefficients, x=a, y=b</li>
        <li><b>y<sup>*</sup></b>: Calculate estimated y for current x</li>
        <li><b>x<sup>*</sup></b>: Calculate estimated x for current y</li>
        <li><b>r</b>: Calculate correlation coefficient</li>
        <li><b>draw</b>: Draw curve along with data points</li>
      </ul>
      <li>Curve fitting: y=a·<i>ln</i>x+b</li>
      <ul>
        <li><b>a,b, y<sup>*</sup>, x<sup>*</sup>, r</b>: (see linear regression)
      </ul>
      <li>Curve fitting: y=b·e<sup>ax</sup></li>
      <ul>
        <li><b>a,b, y<sup>*</sup>, x<sup>*</sup>, r</b>: (see linear regression)
      </ul>
      <li>Curve fitting: y=b·x<sup>a</sup></li>
      <ul>
        <li><b>a,b, y<sup>*</sup>, x<sup>*</sup>, r</b>: (see linear regression)
      </ul>
    </ul>
    <li>Sums</li>
    <ul>
      <li><b>n</b>: Recall number of statistics entered</li>
      <li><b>&#931;x</b>: Recall sum of x'es</li>
      <li><b>&#931;x²</b>: Recall sum of squared x'es</li>
      <li><b>&#931;y</b>: Recall sum of y's</li>
      <li><b>&#931;y²</b>: Recall sum of squared y's</li>
      <li><b>&#931;xy</b>: Recall sum of x·y product</li>
      <li><b>&#931;<i>ln</i>x</b>: Recall sum of <i>ln</i>x</li>
      <li><b>&#931;<i>ln</i>²x</b>: Recall sum of <i>ln</i>²x</li>
      <li><b>&#931;<i>ln</i>y</b>: Recall sum of <i>ln</i>y</li>
      <li><b>&#931;<i>ln</i>²y</b>: Recall sum of <i>ln</i>²y</li>
      <li><b>&#931;x<i>ln</i>y</b>: Recall sum of x·<i>ln</i>y</li>
      <li><b>&#931;y<i>ln</i>x</b>: Recall sum of y·<i>ln</i>x</li>
      <li><b>&#931;<i>ln</i>x<i>ln</i>y</b>: Recall sum of
      <i>ln</i>x·<i>ln</i>y</li>
    </ul>
  </ul>
  <li>Financial</li>
  <ul>
    <li><b>STO</b>: Store x in financial register (pv, fv, np, pmt, ir%)</li>
    <li><b>RCL</b>: Recall financial register (pv, fv, np, pmt, ir%)</li>
    <li><b>solve</b>: Solve one financial value with respect to the
    others</li>
    <ul>
      <li><b>pv</b>: The <i>present value</i> in an account</li>
      <li><b>fv</b>: The <i>future value</i> after a certain number of
      payment periods</li>
      <li><b>np</b>: The <i>number</i> of payment <i>periods</i></li>
      <li><b>pmt</b>: The amount of each periodic <i>payment</i></li>
      <li><b>ir%</b>: The <i>interest rate</i> on the account per period
      (in percent)</li>
    </ul>
    <li><b>clear</b>: Clear financial registers</li>
    <li><b>END/BGN</b>: Switch between end of month payments and beginning of
     month payments</li>
    <li><b>y%*x</b>: Interest multiply. Convert from nominal x-times-a-year
  (e.g. monthly) interest rate to effective annual rate</li>
    <li><b>y%/x</b>: Interest divide. Convert from effective annual interest
  rate to nominal x-times-a-year rate</li>
  </ul>
  <li>Time and date</li>
  <ul>
    <li><b>&rarr;H</b>: Convert x, interpreted as date, hours, minutes and
  seconds (format yyyymmddHH.MMSS) to hours. If year (yyyy) is zero,
  the format is instead understood as ddddHH.MMSS, where dddd is
  number of days.</li>
    <li><b>&rarr;DH.MS</b>: Convert x from hours to date, hours, minutes and
  seconds. If x&nbsp;&#8804;&nbsp;8784 hours, it is instead converted
  to the format ddddHH.MMSS, where dddd is the number of days.</li> 
    <li><b>date</b>: Get current date in DH.MS format</li>
    <li><b>time</b>: Get current time in DH.MS format (inaccurate on early
  versions of T610 software)</li>
    <li><b>DH.MS+</b>: Add x and y as date, hours, minutes and seconds</li>
  </ul>
</ul>

<h3>Mode</h3>

<ul>
  <li>Number</li>
  <ul>
    <li><b>normal</b>: Set normal number mode, shows all digits but removes
    trailing zeros</li>
    <li><b>FIX</b>: Set fixed-decimal number mode, shows a fixed number of
    digits after the decimal point</li>
    <li><b>SCI</b>: Set scientific number mode, shows a fixed number of
    digits after the decimal point in scientific format</li>
    <li><b>ENG</b>: Set engineering number mode, shows a fixed number of
    digits after the decimal point in engineering format, i.e. exponent is a
    multiple of 3</li>
  </ul>
  <li>Separators</li>
  <ul>
    <li>point</li>
    <ul>
      <li><b>.</b> : Display the decimal point as a period</li>
      <li><b>,</b> : Display the decimal point as a comma</li>
      <li><b>keep</b>: Keep the decimal point even if no fraction is shown</li>
      <li><b>remove</b>: Remove the decimal point if no fraction is shown</li>
    </ul>
    <li>thousand</li>
    <ul>
      <li><b>. or ,</b> : Display thousands separator as period or comma
      (depending on decimal point)</li>
      <li><b>space</b>: Display thousands separator as space</li>
      <li><b>'</b> : Display thousands separator as '</li>
      <li><b>none</b>: Display no thousands separator</li>
    </ul>
  </ul>
  <li>Base</li>
  <ul>
    <li><b>DEC</b>: Set decimal (base-10) number mode</li>
    <li><b>HEX</b>: Set hexadecimal (base-16) number mode</li>
    <li><b>BIN</b>: Set binary (base-2) number mode</li>
    <li><b>OCT</b>: Set octal (base-8) number mode</li>
  </ul>
  <li>Monitoring</li>
  <ul>
    <li><b>mem</b>: Monitor first <i>n</i> memory locations in upper part
    of the display</li>
    <li><b>stat</b>: Monitor first <i>n</i> statistical registers</li>
    <li><b>financial</b>: Monitor financial registers</li>
  </ul>
  <li>Fonts (this menu is available if you have a color screen,
  otherwise system font is used)</li>
  <ul>
    <li><b>small</b>: Set small font</li>
    <li><b>medium</b>: Set medium font</li>
    <li><b>large</b>: Set large font</li>
    <li><b>system</b>: Set system font (should be mono-spaced, but this is not
  the case on T610)</li>
  </ul>
</ul>

<h2>Notes</h2>

<h3>Abnormal results</h3>

The calculator implements infinites and nan following the IEEE754
logic. It is impossible to enter abnormal numbers through the
keyboard, but they are easily obtained by calculation. If an operation
produces a result larger than the largest representable number, an
infinity value is generated, and "inf" or "-inf" is displayed. If an
operation produces a result smaller than the smallest representable
number, zero is generated. To be able to use this result properly in
further calculations, the number "-0" may also be produced. If an
operation is impossible or would produce a complex number as a result, a
nan value is produced and "nan" is displayed (not-a-number).<br>

<br>
Abnormal numbers are often fine to use in further calculations. In
most cases where the final result would be meaningful, abnormal
numbers accomplish this. For instance, atan(inf)=pi/2, 1/inf=0,
etc. In most cases where the final result is not meaningful, a nan
will be produced.<br>

<br>
Examples of operations with abnormal numbers are:<br>
1/0 = inf<br>
1+inf = inf<br>
1*inf = inf<br>
0/0 = nan<br>
0*inf = nan<br>
inf/inf = nan<br>
inf-inf = nan<br>
sqrt(-1) = nan<br>
ln(-1) = nan<br>
1/inf = 0<br>
-1*0 = -0<br>
Any operation involving nan produces nan, except nan to the power of
0:<br>
nan^0 = 1<br>

<h3>Financial calculation</h3>

Remember to use negative values for owed balances and money paid to
the account, positive values for balances in your favor and money
withdrawn from the account. Also enter the interest rate per period,
not per year. If you are making monthly payments and have an annual
interest rate, divide the annual rate by 12 (*). Thus, one period of
an 8% annual rate is 8/12=0.6666%.<br>

<br>
[* This business of dividing an interest rate by 12 is not
mathematically correct, but since the banks use this procedure it is
wise to do it also, otherwise your numbers will not agree with those
of the bank. To calculate the nominal monthly interest rate from an
effective annual interest rate, use the "y%/x" function, which
actually calculates 100*(<sup>x</sup>&#8730;<span
style="text-decoration: overline;">1+y/100</span>&nbsp;-&nbsp;1).]<br>

<br>
If you solve repeatedly and successively for each of the financial
registers, the values may start to drift away from the original values
because of inaccuracies during the calculations.<br>

<h3>Binary representation</h3>

In binary modes (HEX, OCT and BIN), fractional numbers are not
displayed as integers, but are instead displayed with the fraction
visible in exactly the same manner as decimal numbers, depending on
the number format (normal, FIX, SCI and ENG).<br>

<br>
Negative numbers are displayed as a generalized form of "twos
complement", with the following interpretation: Negating the number
inverts all bits, including an infinite number of 1-bits before the
radix point and an infinite number of 1-bits after the radix
point. The infinite number of 1-bits before the radix is represented
by an "f" prefix (or 7 or 1 in OCT and BIN modes). The infinite number
of 1-bits after the radix is rounded upwards producing an infinite
number of 0-bits, until the first 0-bit is encountered which will be
switched to a 1 (rounded or not, these two forms are mathematically
equivalent). For example, the number "1", inverted, will become
...1111110.111111.... Rounding of the infinite number of 1's after the
radix gives the number ...1111111.000000..., which is exactly the way
we usually see "-1" as two's complement.<br>

<br>
Bitwise operations with negative numbers (and, or, xor and bic) use
the generalized "twos complement" representation of the number when
interpreting the bits. However, beware that normal rounding that
occurs when the display cannot display all the significant digits of a
number may cause inexact values to appear different in the display
than their internal representation.<br>

<h3>Date representation</h3>

The calendar implemented by the DH.MS operations is strictly
Gregorian, which did not take effect until 1582 in Catholic states and
not until 1752 in Britain and her colonies (including the United
States). Dates before these years will be extrapolations of the
Gregorian calendar and will not match the Julian calendar of the
time.<br>

<br>
When converted to hours, a date is represented by the number of hours
since the imaginary date January 1st year 0 (in the extrapolated
Gregorian calendar). Negative dates are not interpreted as years BC,
but are instead represented as a negative amount of time equal in
magnitude to the date interpreted as a positive number. In this way,
you can subtract dates by entering a negative date and using
"DH.MS+". However, it is impossible to extrapolate the Gregorian
calendar to years BC.<br>

<br>
When converting from date-time format (yyyymmddHH.MMSS) to hours,
several checks are performed. If year (yyyy) is zero (i.e. input is
less than 1000000), the date-time format is instead interpreted as the
days-time format ddddHH.MMSS, where dddd is the number of days. When
you convert from hours back to date-time format, it is enough that the
number of hours is greater than 8784 (i.e. 24 hours times 366, number
of days in year 0) for the converter to switch back to yymmddHH.MMSS
format. This means that for dddd between 366 and 9999, converting from
ddddHH.MMSS to hours and back again will not yield the original
input.</br>

<br>
Beware that you must specify the year with all four digits. If you
specify a year with two digits only, you will be calculating dates in
a Gregorian calendar extrapolated to the years AD 1-99 (*). As an
intermediate result such dates are fine (e.g. a time interval,
resulting from a DH.MS+ operation with one negative operand), but the
result should be converted to hours or added to a proper date before
it is meaningful. If an intermediate result like this represents a
time interval less than one year, it will be converted to the form
"ddddHH.MMSS", where "dddd" is the number of days. Do not worry, this
form will interpreted unambiguously in further calculations with
DH.MS+.<br>

<br>
[* leap years in this period matches leap years in the period
1900-1999, so you may get away with it. On the other hand, the year
100 (in the extrapolated Gregorian calendar) was <i>not</i> a leap
year while the year 2000 <i>was</i>.]<br>

<br>
If year is nonzero, and month (mm) is zero, the month will be
interpreted as 1 (January). If day (dd) is zero, it is interpreted as
1 (the 1st of the month). If seconds (SS) is greater than 59, the
number is interpreted as that many seconds into the next minute. If
minutes (MM) is greater than 59, the number is interpreted as that
many minutes into the next hour. If hours (HH) is greater than 23, the
number is interpreted as that many hours into the next day. If day
(dd) is greater than the number of days in a month, the number is
interpreted as that many days into the next month (or the months
after). If month is greater than 12, the number is interpreted as that
many months into the next year(s) (unspecified how many days there are
in each of those months). E.g. the number 2003000000 is understood as
January 1st, 2003, at 00:00.00. The number 1403.5901 is understood as
14 days, 3 hours, 59 minutes and 1 second. Unfortunately, the number
1.9999 is understood as 1 hour, 99 minutes and 99 seconds, actually
2.6775 hours, considerably more than 2 hours (if that was
intended).<br>

<br>
Because a date-time value is represented with many digits, inexact
intermediate representation may cause inaccuracies to escalate. To
alleviate this, some magic rounding has been implemented so that
e.g. 99 minutes and 99.999 seconds is instead interpreted as 1 hour, 0
minutes and 0.000 seconds. This will catch a majority of the problems
that may occur.<br>

<br><i>Relation to Unix time</i><br>

<br>
Unix time starts with 0 at midnight (00:00 UTC) on January 1st,
1970. Many operating systems and languages (including Java) use this
time scale, although many use a local time zone instead of UTC.<br>

<br>
To convert from a date of the form yyyymmddHH.MMSS to Unix time,
convert first to hours using "&rarr;H", subtract 17268672 (obtained
e.g.  from 1970010100 &rarr;H), and multiply by 3600 to get number
of seconds since January 1st 1970.<br>

<br><i>Relation to Julian Days</i><br>

<br>
Astronomers often use Julian Day or Modified Julian Day as a practical
format for doing arithmetic with dates. While the Julian era starts at
noon on Monday, January 1st 4713 BC (in the Julian calendar), the
calendar implemented by this calculator starts at midnight, January
1st year 0 (in the extrapolated Gregorian calendar).<br>

<br>
To convert from a date to Julian Day, convert first to hours using
"&rarr;H", divide by 24 to get days, and add 1721059.5.<br>

<br>
The Modified Julian Day is the number of days elapsed since midnight
(00:00 UTC) on November 17, 1858. To convert from a date to Modified
Julian Day, convert first to hours using "&rarr;H", divide by 24 to
get days, and subtract 678941.<br>

</body>
</html>
